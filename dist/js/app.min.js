(function(t){var e={};function r(n){if(e[n]){return e[n].exports}var o=e[n]={i:n,l:false,exports:{}};t[n].call(o.exports,o,o.exports,r);o.l=true;return o.exports}r.m=t;r.c=e;r.i=function(t){return t};r.d=function(t,e,n){if(!r.o(t,e)){Object.defineProperty(t,e,{configurable:false,enumerable:true,get:n})}};r.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};r.d(e,"a",e);return e};r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};r.p="";return r(r.s=24)})([function(t,e){var r=t.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=r},function(t,e,r){var n=r(21)("wks"),o=r(22),i=r(0).Symbol,a=typeof i=="function";var c=t.exports=function(t){return n[t]||(n[t]=a&&i[t]||(a?i:o)("Symbol."+t))};c.store=n},function(t,e,r){var n=r(10),o=r(19);t.exports=r(4)?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){t[e]=r;return t}},function(t,e,r){var n=r(9);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){t.exports=!r(17)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e){t.exports={}},function(t,e){var r=t.exports={version:"2.4.0"};if(typeof __e=="number")__e=r},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){return typeof t==="object"?t!==null:typeof t==="function"}},function(t,e,r){var n=r(3),o=r(33),i=r(48),a=Object.defineProperty;e.f=r(4)?Object.defineProperty:function t(e,r,c){n(e);r=i(r,true);n(c);if(o)try{return a(e,r,c)}catch(t){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");if("value"in c)e[r]=c.value;return e}},function(t,e,r){var n=r(21)("keys"),o=r(22);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(34),o=r(8);t.exports=function(t){return n(o(t))}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(9),o=r(0).document,i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return true}}},function(t,e,r){"use strict";var n=r(37),o=r(31),i=r(43),a=r(2),c=r(5),f=r(6),u=r(35),s=r(20),l=r(40),d=r(1)("iterator"),h=!([].keys&&"next"in[].keys()),g="@@iterator",p="keys",m="values";var y=function(){return this};t.exports=function(t,e,r,v,x,b,w){u(r,e,v);var k=function(t){if(!h&&t in j)return j[t];switch(t){case p:return function e(){return new r(this,t)};case m:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}};var S=e+" Iterator",O=x==m,_=false,j=t.prototype,I=j[d]||j[g]||x&&j[x],E=I||k(x),M=x?!O?E:k("entries"):undefined,P=e=="Array"?j.entries||I:I,T,A,C;if(P){C=l(P.call(new t));if(C!==Object.prototype){s(C,S,true);if(!n&&!c(C,d))a(C,d,y)}}if(O&&I&&I.name!==m){_=true;E=function t(){return I.call(this)}}if((!n||w)&&(h||_||!j[d])){a(j,d,E)}f[e]=E;f[S]=y;if(x){T={values:O?E:k(m),keys:b?E:k(p),entries:M};if(w)for(A in T){if(!(A in j))i(j,A,T[A])}else o(o.P+o.F*(h||_),e,T)}return T}},function(t,e){t.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}},function(t,e,r){var n=r(10).f,o=r(5),i=r(1)("toStringTag");t.exports=function(t,e,r){if(t&&!o(t=r?t:t.prototype,i))n(t,i,{configurable:true,value:e})}},function(t,e,r){var n=r(0),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++r+n).toString(36))}},function(t,e,r){t.exports={default:r(25),__esModule:true}},function(t,e,r){"use strict";var n=r(23);var o=i(n);function i(t){return t&&t.__esModule?t:{default:t}}var a={create:function t(e){var r=document.createDocumentFragment();var n=document.createElement("div");n.innerHTML=e;while(n.firstChild){r.appendChild(n.firstChild)}return r},removebyselector:function t(e){var r=document.querySelector(e);if(r!==null){if(r.parentNode&&r.parentNode!==null){r.parentNode.removeChild(r)}}},addclass:function t(e,r){var n=document.querySelectorAll(e);if(r.indexOf(" ")>-1){var o=r.split(" ");for(var i=0;i<o.length;i++){a.addclass(e,o[i])}}else{for(var c=0;c<n.length;c++){n[c].classList.add(r)}}},removeclass:function t(e,r){var n=document.querySelectorAll(e);if(r.indexOf(" ")>-1){var o=r.split(" ");for(var i=0;i<o.length;i++){a.removeclass(e,o[i])}}else{for(var c=0;c<n.length;c++){n[c].classList.remove(r)}}},hasclass:function t(e,r){return(" "+e.className+" ").indexOf(" "+r+" ")>-1},getStyle:function t(e,r){var n="";if(document.defaultView&&document.defaultView.getComputedStyle){n=document.defaultView.getComputedStyle(e,"").getPropertyValue(r)}else if(e.currentStyle){r=r.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()});n=e.currentStyle[r]}return n}};var c={duration:4,characters:[{name:"horace",images:[{direction:"left",filename:"crocodileleft.gif",magnify:150,rotation:20,width:463,height:1261,xoffset:0,yoffset:-80,text:{width:100,xoffset:20,yoffset:2}},{direction:"right",filename:"crocodileright.gif",magnify:150,rotation:20,width:463,height:1261,xoffset:0,yoffset:-80,text:{width:100,xoffset:20,yoffset:2}}],style:"horace"},{name:"mortimer",images:[{direction:"left",filename:"humpbackwhaleleft.gif",magnify:110,rotation:10,width:589,height:1802,xoffset:0,yoffset:-50,text:{width:150,xoffset:-10,yoffset:2}},{direction:"right",filename:"humpbackwhaleright.gif",magnify:110,rotation:-10,width:589,height:1802,xoffset:60,yoffset:-50,text:{width:150,xoffset:-20,yoffset:2}}],style:"mortimer"},{name:"bullivant",images:[{direction:"left",filename:"sealleft.gif",magnify:66.66,rotation:0,width:352,height:630,xoffset:10,yoffset:0,text:{width:110,xoffset:20,yoffset:4}},{direction:"right",filename:"sealright.gif",magnify:66.66,rotation:0,width:352,height:630,xoffset:60,yoffset:0,text:{width:110,xoffset:-20,yoffset:4}}],style:"bullivant"}],pages:[{folio:0,background:{filename:"titlepage.jpg",color:"#fff",opacity:1e-10}},{folio:1,background:{color:"#ff00ff"},characters:[{name:"horace",direction:"left",text:{content:"Is that fire smoking?"}},{name:"mortimer",direction:"right",text:{content:"Yes, it appears to be,<br /> my dear boy.",xoffset:10}}]},{folio:2,background:{color:"#ff0000",opacity:.25},characters:[{name:"horace",direction:"left",text:{content:"I am not asking what it<br /> appears to be doing.<br /> I asked if it was smoking."}},{name:"mortimer",direction:"right",xoffset:60,yoffset:-40,text:{content:"Appearances are not held to be a clue to the truth. But we have no other.",xoffset:20}}]},{folio:3,background:{color:"#00ff00"},characters:[{name:"horace",direction:"left",xoffset:5,rotation:12,text:{content:"Good morning. It does<br /> seem that the fire is smoking.",xoffset:-5}},{name:"mortimer",direction:"right",xoffset:65,text:{content:"It is in the stage when smoke is produced. So it is hard to see what it can do."}}]},{folio:4,background:{color:"#0000ff",opacity:.75},characters:[{name:"horace",direction:"left",text:{content:"Do you really not understand me?"}},{name:"mortimer",direction:"right",xoffset:55,yoffset:-60,text:{content:"Yes, yes, my dear boy. It is giving out some smoke. We must say that it is."}}]},{folio:5,background:{color:"#000fff",opacity:.25},characters:[{name:"horace",direction:"left",text:{content:"Has that fire been smoking, Bullivant?"}},{name:"bullivant",direction:"right",text:{content:"Well, sir, not to say smoking. Merely a response to the gusty morning. A periodical spasm in accordance with the wind."}}]},{folio:6,background:{color:"#00f00f",opacity:.5},characters:[{name:"horace",direction:"left",text:{content:"Will it put soot <br />all over the room?"}},{name:"bullivant",direction:"right",text:{content:"Only the lightest deposit, sir. Nothing to speak about."}}]},{folio:7,background:{color:"#f0ff0f",opacity:.5},characters:[{name:"bullivant",direction:"left",text:{content:"It is to make them do it, sir, not to do it yourself. <br />I should never call doing things myself the harder part."}},{name:"mortimer",direction:"right",text:{content:"Then why don’t you do them yourself? I cannot understand anyone’s choosing the harder part.",xoffset:20}}]},{folio:8,background:{color:"#f00fff",opacity:.5},characters:[{name:"bullivant",direction:"left",text:{content:"Well, sir, we have to think of the future, when our own day will be done."}},{name:"mortimer",direction:"right",text:{content:"I do not have to. <br />I should not dream of doing such a thing.",xoffset:20}}]},{folio:9,background:{color:"#0f0fff",opacity:.5},characters:[{name:"bullivant",direction:"left",text:{content:"We must not think that the world stops with us, sir, because it stops for us."}},{name:"mortimer",direction:"right",text:{content:"Bullivant, you did not think I meant you to do things yourself, did you?",xoffset:20}}]},{folio:10,background:{color:"#ffaa00",opacity:.5},characters:[{name:"horace",direction:"left",text:{content:"Does that chimney<br /> want sweeping?"}},{name:"bullivant",direction:"right",text:{content:"No, sir, not until<br /> the spring."}}]},{folio:11,background:{color:"#ffcc00",opacity:.5},characters:[{name:"mortimer",direction:"left",xoffset:35,yoffset:-60,text:{content:"Might it be<br /> as well to light<br /> the fire earlier?",xoffset:0}},{name:"bullivant",direction:"right",xoffset:70,text:{content:"Well sir, for one morning like this, there may be a dozen with the grate drawing as sweet—"}},{name:"horace",direction:"left",xoffset:-10,yoffset:-65}]},{folio:12,background:{color:"#ffaa00",opacity:.5},characters:[{name:"mortimer",direction:"left",xoffset:40},{name:"bullivant",direction:"right",xoffset:70,text:{content:"Well, sir, if that is the case, it is not for want of enjoinder. George, ask Mrs. Selden to retard the breakfast. There is a matter that calls for investigation."}},{name:"horace",direction:"left",xoffset:-5,text:{content:"There must be some obstruction in the chimney."}}]},{folio:13,background:{filename:"theend.jpg",color:"#fff",opacity:1e-10}}]};var f={background:{filename:"background.jpg",color:"#000000",opacity:.5},paths:{images:"img/"},showcontrols:true,autoplay:false};var u={page:0};var s={initialize:function t(){s.render(u.page);document.querySelector("#controls #left").onclick=s.goleft;document.querySelector("#controls #right").onclick=s.goright;document.querySelector("#characterlayer").onclick=s.goright},goleft:function t(){if(u.page>0){u.page--;s.render(u.page)}},goright:function t(){if(u.page<c.pages.length-1){u.page++;s.render(u.page)}},render:function t(e){for(var r=0;r<c.pages.length;r++){if(c.pages[r].folio==e){var n=c.pages[r];console.log("Rendering page "+e+".");if(f.showcontrols){a.removeclass("#controls #left","off");a.removeclass("#controls #right","off");if(r==0){a.addclass("#controls #left","off")}}else{a.addclass("#controls #left","off");a.addclass("#controls #right","off")}if(r==c.pages.length-1){if(f.showcontrols){a.addclass("#controls #right","off")}}else{if(f.autoplay){setTimeout(s.goright,(n.duration||c.duration)*1e3)}}document.querySelector("#background").style.backgroundImage='url("'+f.paths.images+(n.background.filename||f.background.filename)+'")';document.querySelector("#scrim").style.backgroundColor=n.background.color||f.background.color;document.querySelector("#scrim").style.opacity=n.background.opacity||f.background.opacity;var i=document.querySelectorAll(".character,.textbubble");var u=true;var l=false;var d=undefined;try{for(var h=(0,o.default)(i),g;!(u=(g=h.next()).done);u=true){var p=g.value;a.removebyselector("#"+p.id)}}catch(t){l=true;d=t}finally{try{if(!u&&h.return){h.return()}}finally{if(l){throw d}}}if(n.characters){for(var m=0;m<n.characters.length;m++){for(var y=0;y<c.characters.length;y++){if(n.characters[m].name==c.characters[y].name){var v=n.characters[m];var x=c.characters[y];for(var b=0;b<c.characters[y].images.length;b++){if(n.characters[m].direction==c.characters[y].images[b].direction){var w=a.create('<div class="character character_'+(v.style||x.style)+'" id="character'+m+'"></div>');document.getElementById("characterlayer").appendChild(w);var k=document.getElementById("character"+m);k.style.backgroundImage='url("'+f.paths.images+x.images[b].filename+'")';k.style.transform="rotate("+(v.rotation||x.images[b].rotation)+"deg)";var S=document.getElementById("characterlayer").clientHeight;var O=document.getElementById("characterlayer").clientWidth;var _=(v.magnify||x.images[b].magnify)*S/(x.images[b].height*100);var j=x.images[b].width*_;var I=x.images[b].height*_;var E=(v.xoffset||x.images[b].xoffset)*O/100;var M=(v.yoffset||x.images[b].yoffset)*S/100;k.style.width=j+"px";k.style.height=I+"px";k.style.left=E+"px";k.style.bottom=M+"px";if(v.text){if(v.text.content){var P=a.create('<div class="textbubble character_'+(v.text.style||x.style)+'" id="textbubble'+m+'">'+v.text.content+"</div>");document.getElementById("characterlayer").appendChild(P);var T=document.getElementById("textbubble"+m);var A=(v.text.width||x.images[b].text.width)*j/100;var C=j*(v.text.xoffset||x.images[b].text.xoffset)/100+E-(A-j)/2;var B=I*(v.text.yoffset||x.images[b].text.yoffset)/100+I+M;T.style.width=A+"px";T.style.left=C+"px";T.style.bottom=B+"px"}}}}}}}}else{}}}}};s.initialize()},function(t,e,r){r(53);r(52);t.exports=r(50)},function(t,e){t.exports=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(13),o=r(46),i=r(45);t.exports=function(t){return function(e,r,a){var c=n(e),f=o(c.length),u=i(a,f),s;if(t&&r!=r)while(f>u){s=c[u++];if(s!=s)return true}else for(;f>u;u++)if(t||u in c){if(c[u]===r)return t||u||0}return!t&&-1}}},function(t,e,r){var n=r(14),o=r(1)("toStringTag"),i=n(function(){return arguments}())=="Arguments";var a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,r,c;return t===undefined?"Undefined":t===null?"Null":typeof(r=a(e=Object(t),o))=="string"?r:i?n(e):(c=n(e))=="Object"&&typeof e.callee=="function"?"Arguments":c}},function(t,e,r){var n=r(26);t.exports=function(t,e,r){n(t);if(e===undefined)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var n=r(0),o=r(7),i=r(30),a=r(2),c="prototype";var f=function(t,e,r){var u=t&f.F,s=t&f.G,l=t&f.S,d=t&f.P,h=t&f.B,g=t&f.W,p=s?o:o[e]||(o[e]={}),m=p[c],y=s?n:l?n[e]:(n[e]||{})[c],v,x,b;if(s)r=e;for(v in r){x=!u&&y&&y[v]!==undefined;if(x&&v in p)continue;b=x?y[v]:r[v];p[v]=s&&typeof y[v]!="function"?r[v]:h&&x?i(b,n):g&&y[v]==b?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};e[c]=t[c];return e}(b):d&&typeof b=="function"?i(Function.call,b):b;if(d){(p.virtual||(p.virtual={}))[v]=b;if(t&f.R&&m&&!m[v])a(m,v,b)}}};f.F=1;f.G=2;f.S=4;f.P=8;f.B=16;f.W=32;f.U=64;f.R=128;t.exports=f},function(t,e,r){t.exports=r(0).document&&document.documentElement},function(t,e,r){t.exports=!r(4)&&!r(17)(function(){return Object.defineProperty(r(15)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,e,r){var n=r(14);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return n(t)=="String"?t.split(""):Object(t)}},function(t,e,r){"use strict";var n=r(38),o=r(19),i=r(20),a={};r(2)(a,r(1)("iterator"),function(){return this});t.exports=function(t,e,r){t.prototype=n(a,{next:o(1,r)});i(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=true},function(t,e,r){var n=r(3),o=r(39),i=r(16),a=r(11)("IE_PROTO"),c=function(){},f="prototype";var u=function(){var t=r(15)("iframe"),e=i.length,n="<",o=">",a;t.style.display="none";r(32).appendChild(t);t.src="javascript:";a=t.contentWindow.document;a.open();a.write(n+"script"+o+"document.F=Object"+n+"/script"+o);a.close();u=a.F;while(e--)delete u[f][i[e]];return u()};t.exports=Object.create||function t(e,r){var i;if(e!==null){c[f]=n(e);i=new c;c[f]=null;i[a]=e}else i=u();return r===undefined?i:o(i,r)}},function(t,e,r){var n=r(10),o=r(3),i=r(42);t.exports=r(4)?Object.defineProperties:function t(e,r){o(e);var a=i(r),c=a.length,f=0,u;while(c>f)n.f(e,u=a[f++],r[u]);return e}},function(t,e,r){var n=r(5),o=r(47),i=r(11)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){t=o(t);if(n(t,i))return t[i];if(typeof t.constructor=="function"&&t instanceof t.constructor){return t.constructor.prototype}return t instanceof Object?a:null}},function(t,e,r){var n=r(5),o=r(13),i=r(28)(false),a=r(11)("IE_PROTO");t.exports=function(t,e){var r=o(t),c=0,f=[],u;for(u in r)if(u!=a)n(r,u)&&f.push(u);while(e.length>c)if(n(r,u=e[c++])){~i(f,u)||f.push(u)}return f}},function(t,e,r){var n=r(41),o=r(16);t.exports=Object.keys||function t(e){return n(e,o)}},function(t,e,r){t.exports=r(2)},function(t,e,r){var n=r(12),o=r(8);t.exports=function(t){return function(e,r){var i=String(o(e)),a=n(r),c=i.length,f,u;if(a<0||a>=c)return t?"":undefined;f=i.charCodeAt(a);return f<55296||f>56319||a+1===c||(u=i.charCodeAt(a+1))<56320||u>57343?t?i.charAt(a):f:t?i.slice(a,a+2):(f-55296<<10)+(u-56320)+65536}}},function(t,e,r){var n=r(12),o=Math.max,i=Math.min;t.exports=function(t,e){t=n(t);return t<0?o(t+e,0):i(t,e)}},function(t,e,r){var n=r(12),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n=r(8);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(9);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&typeof(r=t.toString)=="function"&&!n(o=r.call(t)))return o;if(typeof(r=t.valueOf)=="function"&&!n(o=r.call(t)))return o;if(!e&&typeof(r=t.toString)=="function"&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(29),o=r(1)("iterator"),i=r(6);t.exports=r(7).getIteratorMethod=function(t){if(t!=undefined)return t[o]||t["@@iterator"]||i[n(t)]}},function(t,e,r){var n=r(3),o=r(49);t.exports=r(7).getIterator=function(t){var e=o(t);if(typeof e!="function")throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){"use strict";var n=r(27),o=r(36),i=r(6),a=r(13);t.exports=r(18)(Array,"Array",function(t,e){this._t=a(t);this._i=0;this._k=e},function(){var t=this._t,e=this._k,r=this._i++;if(!t||r>=t.length){this._t=undefined;return o(1)}if(e=="keys")return o(0,r);if(e=="values")return o(0,t[r]);return o(0,[r,t[r]])},"values");i.Arguments=i.Array;n("keys");n("values");n("entries")},function(t,e,r){"use strict";var n=r(44)(true);r(18)(String,"String",function(t){this._t=String(t);this._i=0},function(){var t=this._t,e=this._i,r;if(e>=t.length)return{value:undefined,done:true};r=n(t,e);this._i+=r.length;return{value:r,done:false}})},function(t,e,r){r(51);var n=r(0),o=r(2),i=r(6),a=r(1)("toStringTag");for(var c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var u=c[f],s=n[u],l=s&&s.prototype;if(l&&!l[a])o(l,a,u);i[u]=i.Array}}]);